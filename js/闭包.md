# 闭包

## 什么是闭包

1.调用外层函数后

2.外层函数临时创建的作用域对象被内层函数的函数对象的作用域链引用无法释放

就形成了闭包

## 示例

```
function parent() {
// 1.外层函数声明需要被重用的变量
  var total = 1000;
  //在外部调用内层函数就必须return
  return function (money) {
    total -= money;
    console.log(`用了${money}, 还剩${total}`);
  }
}
total = 0;
var pay = parent();
pay(100);  // 用了100 还剩900
pay(100);  // 用了100 还剩800
```

## 什么时候用闭包

全局变量: 可以重用 但是容易被篡改

局部变量:无法篡改 但是函数外部无法引用

闭包就是将全局变量和局部变量的优缺点集合, 在函数外部可以使用一个被保护的局部变量.



## 闭包的缺点

因为外部函数的函数作用域无法被释放, 会多占用一块内存

解决: 不再使用闭包时, 将保存内部函数的变量赋值为null